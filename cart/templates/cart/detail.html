{% load i18n %}
{% load static %}

<div class="table-responsive px-0 px-md-3">
  <table class="table table-striped shadow rounded" id="theTable">
    <thead>
      <tr class="text-center">
        <th>{% trans 'Product'%}</th>
        <th>{% trans 'Quantity'%}</th>
        <th>{% trans 'Remove'%}</th>
        <th>{% trans 'Price' %} (u)</th>
        <th>{% trans 'Price'%}</th>
      </tr>
    </thead>
    <tbody>
      {% if not cart %}
      <p>{% trans 'Empty' %}</p>
      {% endif %}
      {% for item in cart %}
        {% with product=item.product %}
          <tr class="text-center">
            <td>{{ product.item.name }}  (<small><strong>{{product.size}}</strong></small>)</td>
            <td>
             <div class="d-flex justify-content-center px-0 px-md-2 px-lg-3">
                <div>
                    <button class="rounded-circle text-white bg-primary px-2" type="button"
                            onclick="toCart({{product.item.id}},-1, {{product.id}})">-</button>
                </div>
               <div class="text-center px-1">
                {{ item.quantity }}
                 </div>
                <div>
                    <button class="rounded-circle text-white bg-primary px-2" type="button"
                            onclick="toCart({{product.item.id}}, 1, {{product.id}})">+</button>
                </div>
            </div>
            </td>
            <td><a onclick="removeItem({{product.id}})" class="text-danger"><i class="fas fa-times-circle fa-lg"></i></a></td>
            <td class="num">${{ item.price }}</td>
            <td class="num">${{ item.total_price }}</td>
          </tr>
        {% endwith %}
      {% endfor %}
    </tbody>
    </table>
</div>
    <div class="row lead text-center bg-primary text-white px-1 px-md-5 mb-2">
      <div class="col-2">Total</div>
      <div class="col-10 text-right">${{ cart.get_total_price }}</div>
  </div>
    <div class="text-righ">
        {% if cart|length > 0 %}
        <a type="button" class="btn btn-success float-right mx-3" href="{{wurl}}">
            {%trans 'Confirm & Send'%} <i class="fab fa-whatsapp"></i>
        </a>
        {% else %}
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
        {% endif %}
    </div>
